[pytest]
testpaths = tests
pythonpath = .
asyncio_mode = auto
addopts =
    --verbose
    --tb=short
    --strict-markers
markers =
    unit: Unit tests
    integration: Integration tests
    slow: Slow tests that require external services
    system_flow: System flow tests (end-to-end user journeys)
    workflow: End-to-end workflow tests
    validation: Input validation and data sanitization tests
    security: Security control tests

# Ignore warnings from third-party libraries and test mocks
filterwarnings =
    ignore::DeprecationWarning:slack_bolt.*
    ignore::DeprecationWarning:slack_sdk.*
    ignore::PendingDeprecationWarning
    ignore::pytest.PytestUnraisableExceptionWarning
    ignore::pytest.PytestCollectionWarning
    ignore:coroutine.*was never awaited:RuntimeWarning
    ignore:.*AsyncMockMixin.*was never awaited:RuntimeWarning
    # Suppress PyMuPDF/SWIG warnings (external library, can't fix)
    ignore:builtin type.*has no __module__ attribute:DeprecationWarning
